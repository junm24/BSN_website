---
const baseUrl = (import.meta.env.BASE_URL || '/').replace(/\/$/, '') + '/';

const siteData = {
	"name": "Bruin Strategy Network",
	"tagline": "UCLA's Premier Consulting Group",
	"navigation": [
		{ "name": "Home", "href": `${baseUrl}`, "mobile": true },
		{ "name": "Team", "href": `${baseUrl}team/`, "mobile": true },
		{ "name": "For Students", "href": `${baseUrl}students/`, "mobile": true },
		{ "name": "For Clients", "href": `${baseUrl}clients/`, "mobile": true }
	],
	"cta": { "text": "JOIN US", "href": `${baseUrl}students/` },
	"social": {
		"instagram": "https://instagram.com/bruinstrategy",
		"linkedin": "https://linkedin.com/company/bruin-strategy"
	},
	"footer": { "copyright": "Â© Bruin Strategy Network 2025" }
};

export interface Props {
	title?: string;
	description?: string;
}

const { title = siteData.name, description = `${siteData.tagline} - Professional consulting services at UCLA` } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<!-- Favicon -->
		<link rel="icon" type="image/png" href={`${baseUrl}Whitelogo.png`} />
		<link rel="icon" type="image/png" sizes="32x32" href={`${baseUrl}Whitelogo.png`} />
		<link rel="apple-touch-icon" sizes="180x180" href={`${baseUrl}Whitelogo.png`} />
		<meta name="generator" content={Astro.generator} />
		
		<!-- Primary Meta Tags -->
		<title>{title}</title>
		<meta name="title" content={title} />
		<meta name="description" content={description} />
		<meta name="keywords" content="bruinstrategy, bruin strategy network, UCLA consulting, UCLA business consulting, UCLA management consulting, UCLA consulting club, UCLA strategy consulting, student consulting, business strategy UCLA, management consulting UCLA, healthcare consulting UCLA, UCLA consulting group, bruins consulting, UCLA student consulting, consulting at UCLA" />
		<meta name="robots" content="index, follow" />
		<meta name="language" content="English" />
		<meta name="author" content="Bruin Strategy Network" />
		
		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content={Astro.url} />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:image" content={new URL(`${baseUrl}Whitelogo.png`, Astro.site)} />
		<meta property="og:site_name" content="Bruin Strategy Network" />
		<meta property="og:locale" content="en_US" />
		
		<!-- Twitter -->
		<meta property="twitter:card" content="summary_large_image" />
		<meta property="twitter:url" content={Astro.url} />
		<meta property="twitter:title" content={title} />
		<meta property="twitter:description" content={description} />
		<meta property="twitter:image" content={new URL(`${baseUrl}Whitelogo.png`, Astro.site)} />
		
		<!-- Canonical URL -->
		<link rel="canonical" href={Astro.url} />
		
		<!-- Structured Data -->
		<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "Organization",
			"name": "Bruin Strategy Network",
			"alternateName": "BSN",
			"url": "https://bruinstrategy.org",
			"logo": "https://bruinstrategy.org/Whitelogo.png",
			"description": "UCLA's premier consulting group providing professional consulting services and developing future business leaders",
			"address": {
				"@type": "PostalAddress",
				"addressLocality": "Los Angeles",
				"addressRegion": "CA",
				"addressCountry": "US"
			},
			"contactPoint": {
				"@type": "ContactPoint",
				"contactType": "general inquiry",
				"email": "contact@bruinstrategy.org"
			},
			"sameAs": [
				"https://instagram.com/bruinstrategy",
				"https://linkedin.com/company/bruin-strategy"
			],
			"foundingLocation": {
				"@type": "Place",
				"name": "University of California, Los Angeles"
			},
			"parentOrganization": {
				"@type": "EducationalOrganization",
				"name": "University of California, Los Angeles",
				"alternateName": "UCLA"
			}
		}
		</script>
		
		<!-- Fonts with Preload -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preload" href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
		<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@400;500;600;700&display=swap"></noscript>
		
		<!-- GSAP -->
		<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
	</head>
	<body class="bg-white text-gray-900 font-sans">
		<!-- Desktop Navigation -->
		<nav id="navbar" class="fixed top-0 left-0 right-0 z-50 transition-all duration-500 bg-white/90 backdrop-blur-sm border-b border-gray-200/20">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="flex justify-between items-center h-16">
					<!-- Logo -->
					<div class="flex-shrink-0">
						<a href={`${baseUrl}`} class="flex items-center logo-link">
							<img src={`${baseUrl}bsn logo.png`} alt="BSN Logo" class="h-10 w-auto transition-transform duration-300 hover:scale-105">
						</a>
					</div>
					
					<!-- Desktop Menu -->
					<div class="hidden md:block">
						<div class="ml-10 flex items-baseline space-x-8">
							{siteData.navigation.map((item) => (
								<a 
									href={item.href} 
									class="nav-link relative text-gray-700 hover:text-bsn-navy px-3 py-2 text-sm font-medium transition-colors duration-200"
								>
									{item.name}
									<span class="nav-underline absolute bottom-0 left-3 right-3 h-0.5 bg-bsn-navy transform scale-x-0 transition-transform duration-300 origin-left"></span>
								</a>
							))}
						</div>
					</div>
					
					<!-- Desktop CTA & Social -->
					<div class="hidden md:flex items-center space-x-4">
						<!-- Social Links -->
						<div class="flex items-center space-x-3">
							<a 
								href="mailto:bruinstrategynetwork@gmail.com"
								class="text-bsn-navy hover:text-bsn-dark-navy transition-colors duration-200"
								aria-label="Email"
							>
								<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
								</svg>
							</a>
							<a 
								href={siteData.social.instagram} 
								target="_blank" 
								rel="noopener noreferrer"
								class="text-bsn-navy hover:text-bsn-dark-navy transition-colors duration-200"
								aria-label="Instagram"
							>
								<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16">
									<path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.906 3.906 0 0 0-1.417.923A3.906 3.906 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.906 3.906 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.906 3.906 0 0 0-.923-1.417A3.906 3.906 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"/>
								</svg>
							</a>
							<a 
								href={siteData.social.linkedin} 
								target="_blank" 
								rel="noopener noreferrer"
								class="text-bsn-navy hover:text-bsn-dark-navy transition-colors duration-200"
								aria-label="LinkedIn"
							>
								<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
									<path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
								</svg>
							</a>
						</div>
						
						<!-- CTA Button -->
						<a 
							href={siteData.cta.href}
							class="bg-bsn-navy text-white px-6 py-2 rounded-lg font-semibold hover:bg-bsn-dark-navy transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl"
						>
							{siteData.cta.text}
						</a>
					</div>
				</div>
			</div>
		</nav>

		<!-- Mobile Bottom Navigation -->
		<div class="md:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 px-4 py-2">
			<div class="flex justify-around items-center">
				{siteData.navigation.filter(item => item.mobile).map((item) => (
					<a 
						href={item.href}
						class="flex flex-col items-center py-2 px-3 text-xs font-medium text-gray-600 hover:text-bsn-navy transition-colors duration-200"
					>
						<div class="w-6 h-6 mb-1">
							<!-- Simple icon placeholder for now -->
							<div class="w-full h-full bg-gray-400 rounded-full"></div>
						</div>
						{item.name}
					</a>
				))}
				<a 
					href={siteData.cta.href}
					class="flex flex-col items-center py-2 px-3 text-xs font-semibold text-bsn-navy"
				>
					<div class="w-6 h-6 mb-1 bg-bsn-navy rounded-full"></div>
					JOIN
				</a>
			</div>
		</div>

		<!-- Main Content -->
		<main class="pt-16 pb-20 md:pb-0">
			<slot />
		</main>

		<!-- Footer -->
		<footer class="bg-gray-900 text-white">
			<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
				<div class="text-center">
					<p class="text-gray-300">{siteData.footer.copyright}</p>
				</div>
			</div>
		</footer>

		<!-- Enhanced Navigation Effects -->
		<script>
			// Navigation scroll effect with enhanced backdrop blur
			window.addEventListener('scroll', () => {
				const navbar = document.getElementById('navbar');
				if (navbar) {
					if (window.scrollY > 50) {
						navbar.classList.add('bg-white/95', 'backdrop-blur-md');
						navbar.classList.remove('bg-white/90', 'backdrop-blur-sm');
					} else {
						navbar.classList.add('bg-white/90', 'backdrop-blur-sm');
						navbar.classList.remove('bg-white/95', 'backdrop-blur-md');
					}
				}
			});
			
			// Navigation link hover effects
			document.addEventListener('DOMContentLoaded', () => {
				const navLinks = document.querySelectorAll('.nav-link');
				navLinks.forEach(link => {
					const underline = link.querySelector('.nav-underline');
					
					link.addEventListener('mouseenter', () => {
						if (underline) {
							underline.style.transform = 'scaleX(1)';
						}
					});
					
					link.addEventListener('mouseleave', () => {
						if (underline) {
							underline.style.transform = 'scaleX(0)';
						}
					});
				});
			});
		</script>
	</body>
</html>
